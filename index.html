const sheetURL = "https://script.google.com/macros/s/AKfycbwcr6wshTWZJECRnRofNJ_ALvLnkSdqzsHBSy1K1ABr9RsUWifPO5G5ZkjOTuvXsJK5/exec";

const result = document.getElementById("resultado");

fetch(sheetURL + "?code=" + code)
  .then(res => res.json())
  .then(data => {

    if (data.status === "valido") {
      result.innerHTML = `
        <h2 style="color:green;">✅ Boleto válido</h2>
        <p><strong>Nombre:</strong> ${data.nombre}</p>
        <p><strong>Tipo:</strong> ${data.tipo}</p>
      `;
    }

    else if (data.status === "usado") {
      result.innerHTML = `
        <h2 style="color:red;">⚠️ Boleto ya usado</h2>
        <p><strong>Nombre:</strong> ${data.nombre}</p>
        <p><strong>Tipo:</strong> ${data.tipo}</p>
      `;
    }

    else {
      result.innerHTML = `<h2 style="color:red;">❌ Boleto no encontrado</h2>`;
    }

  })
  .catch(() => {
    result.innerHTML =
      "<div class='error'>Error de conexión</div>";
  });

